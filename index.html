<!DOCTYPE html>
<html>
	<head>
		<title>Hexagonal Grid</title>
		<script src="./javascript/playerClass.js" language="JavaScript"></script>
		<script src="./javascript/planetClass.js" language="JavaScript"></script>
		<script src="./javascript/gridClass.js" language="JavaScript"></script>
		<script language="JavaScript">
			
		</script>
	</head>
	<body>
		<h1 align="center">Hexagonal Grid</h1>
		<canvas onmouseup="keyEvent(event)"  id="gameBoard" width="1000" height="1110" style="border:1px solid #d3d3d3;">
			Your browser does not support the HTML5 canvas tag.
		</canvas>
		<script language="JavaScript">
			board = new Grid("gameBoard", "./img/hexagonal.png");
			board.newPlayer("Banane9", 60 * 3 + 5, 2 * 52 +5, "./img/playerRed.png");
			board.newPlanet("Mars", 455, 265, "./img/planet.png");
			sixDirectionMove=function(x, y, z)
				{
				var upDown = y * 104 + z * 52 + x * 52 + board.player.Banane9.y;
				var leftRight = x * 90 - z * 90 + board.player.Banane9.x;
				var A = [leftRight + 30, upDown]
				var B = [leftRight + 90, upDown]	
				var C = [leftRight + 120, upDown + 52]
				var D = [leftRight, upDown + 52]
				var E = [leftRight + 30, upDown + 104]
				var F = [leftRight + 90, upDown + 104]
				var key = [event.clientX - 7 - document.body.scrollLeft, event.clientY - 80 + document.body.scrollTop];

				if (getGradient(B, key) > getGradient(B, C) && getGradient(F, key)< getGradient(F, C))
					{
					return true
					}
				else if (getGradient(A, key) < getGradient(A, D) && getGradient(E, key) > getGradient(E, D))
					{
						return true
					}
				else if(key[0] > A[0] && key[1] > A[1] && key[0] < B[0] && key[1] < F[1])
					{
							return true
					}
				else
					{
					return false
					}
				};	
			var getGradient = function(b, a)
				{
					yMinus =  (b[1] - a[1]);
					xMinus = (b[0] - a[0]);
					gradient =yMinus / xMinus;
					return gradient;
				};
			function keyEvent(event)
				{
				if(sixDirectionMove(1, 0, 0)===true)
					{
					console.log("down right")
					board.player.Banane9.turn(1, 0, 0)
					}
				 else if(sixDirectionMove(0, 0, 0)===true)
			    	{
			    	board.player.Banane9.turn(0, 0, 0)
					console.log("center")
					}
			    else if(sixDirectionMove(0, 1, 0)===true)
			    	{
			    	board.player.Banane9.turn(0, 1, 0)
					console.log("down")
					}
				else if(sixDirectionMove(0, 0, 1)===true)
			    	{
			    	board.player.Banane9.turn(0, 0, 1)
					console.log("down left")
					}
				else if(sixDirectionMove(-1, 0, 0)===true)
			    	{
			    	board.player.Banane9.turn(-1, 0, 0)
					console.log("up left")
					}
				else if(sixDirectionMove(0, -1, 0)===true)
			    	{
			    	board.player.Banane9.turn(0, -1, 0)
					console.log("up")
					}
				else if(sixDirectionMove(0, 0, -1)===true)
			    	{
			    	board.player.Banane9.turn(0, 0, -1)
					console.log("up right")
					}
				else
					{
					console.log("total miss")
					}
				};
		</script>
	</body>
</html>